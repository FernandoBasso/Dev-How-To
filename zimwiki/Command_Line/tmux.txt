Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2019-12-13T09:07:26-03:00

====== tmux ======
Created Friday 13 December 2019

===== Working Directory =====


Start a new session specifying the working directory with ''-c'':

'''
$ tmux new-session foobar -c ~/Projects/foobarproj
'''

Or attach to the session specifying the working directory, which sets the working directory for new windows and panes:

'''
$ tmux attach-session -t foobar -c ~/Projects/foobarproj/subdir/subsubdir
'''

Or, from inside a tmux session.

'''
C-a :
attach-session -t . -c my/sub/dir
'''

The dot “.” means “the current session”.

See [[https://unix.stackexchange.com/questions/268386/how-to-change-default-new-window-directory-from-within-the-tmux|this]] and [[https://stackoverflow.com/questions/27307815/how-to-change-the-starting-directory-of-a-tmux-session|this]].


===== Auto-Completion =====

There is bash (or other shell) completion scripts. For internal tmux commands, that is, tmux own command prompt, (''C-a :''), tmux Tab-completes unambiguous commands. That is, ''C-b :s<Tab>'' won't offer completions, because there are more than one command that starts with “s”. Add “o”, making it “so” and trying Tab again works, because there is only one command that starts with “so” (as of this writing Fri 13 Dec 2019 10:48:44 AM -03). Hitting Tab repeatedly doesn't cycle through possible completions, like many other programs do.



Online book:
https://leanpub.com/the-tao-of-tmux/read

Tut from 2015:
https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/

Tut from 2011:
https://robots.thoughtbot.com/a-tmux-crash-course

===== status-left, session name =====
Setting ''status-left'' to something like '<<#S ☺ >>' causes the session name to be cut, and the smiley not appear if the session name is more than  four or five chars long + the other embelishing chars I added myself.

<gxt> Fernando-Basso: Search the man page for `status-left-length`

So, something like this makes an okay status bar:
'''
set -g status-left-length 35
set -g status-left '«#S ☺ » '
set -g status-right ' %a, %b %d, %Y %H:%M:%S '
'''

And run tmux with that config:
'''
tmux -f ~/.dotifles/FILEs/tmux-light1.conf new-session \
  -s 'Long Session Name' \
  \; rename-window vim
'''




--------------------
[08:16:03] <rIMpossible> How can I automatically (every 5 second) switch panes in tmux?
[08:28:43] <nicm> while :; do tmux selectp -U; sleep 5; done


===== ColoUrs =====

https://superuser.com/questions/285381/how-does-the-tmux-color-palette-work/285400

I am scanning through the man page but could not find (so far) if it is possible to customize the colors of the list of sessions from C-b s. Any ideas?

I believe it is, by using the 'choose-tree -Zs -F <format>' option. See the FORMATS section of the man page for all the things (including colours) you can use there...

''choose-tree -Z -F "#[bg=colour11,fg=colour1]#S"''


===== windows, panes =====
Several tips on [[https://superuser.com/questions/343572/how-do-i-reorder-tmux-windows|reordering and swapping]] windows.

Make third window became window 2, and 2 become 3:
'''
<prefix>:swap-windows -s 3 -t 2
'''

Move current window to the left, swapping places with the window on the left:

'''
<prefix>:swap-window -t -1
'''

Move current window to the right, swapping places with the window on the right:

'''
<prefix>:swap-window -t +1
'''


==== Upgrade config from 2.8 to 2.9 ====

https://github.com/tmux/tmux/issues/1689#issuecomment-487372439

commit af2c0ac59b93b318575367f0313ad1ca0627a6ba
Author: Fernando Basso <fernandobasso.br@gmail.com>
Date:   Sun Apr 28 08:51:01 2019 -0300

	update config for tmux 2.9
    
	Resources used:
    
	- https://github.com/tmux/tmux/issues/1689
	- https://github.com/tmux/tmux/wiki/FAQ#how-do-i-translate--fg--bg-and--attr-options-into--style-options
	- https://man.openbsd.org/tmux.1#STYLES
	- man tmux


===== The End =====

