Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-09-18T19:42:47-03:00

====== Jest, React Testing Library ======
Created Friday 18 September 2020


'''
// FILE: lib/FooService.js
const fetchData = (id) => {
  return request({ url: '/foo', id });
};
'''


'''
export default { FooService };
// FILE: hooks/useApi.js
import { FooService } from 'lib/FooService.js'
export const useApi = (id) => {
  const [data, setData] = useState(undefined);

  useEffect(() => {
    FooService.fetchData(id).then(data => setData(data));
  }, [id, setData, FooService]);
  return { data };
}
'''


'''
it.only('should not call the API', async () => {
  FooService.fetchData.mockResolvedValue({});
  await act(async () => {
    renderHook(() => useApi(1));
  });
});
'''

