Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-05-31T08:10:26-03:00



====== 03 Creating Small Tools ======
Created Sunday 31 May 2020

““
You’re using ''scanf()'' and ''printf()'' to read from the keyboard and write to the display. But the truth is, they don’t talk directly to the keyboard and display. Instead, they use the Standard Input and Standard Output. The Standard Input and Standard Output are created by the operating system when the program runs.

The ''scanf()'' and ''printf()'' functions don’t know, or care, where the data comes from or goes to. They just read and write Standard Input and the Standard Output.
””

fprintf stdin, stdout, stderr

''>'' redirects to stdout, ''2>'' redirects to stderr.


'''
$ (./bermuda | ./geo2json) < ./spooky.csv > ./output.json
'''

“<” sends contents to the first process in the pipeline, and “>” will capture stdout from the last process in the pipeline.

FILE, fopen, fprintf, fscanf, fclose

See [[https://www.man7.org/linux/man-pages/man3/fopen.3.html#RETURN_VALUE|return value for fopen]].
'''
----
FILE *f;

if ((f = fopen ("./file.dat", "w")) == NULL) {
  fprintf (stderr, "“file.dat” can not be open...\n");
  return 1;
}
----
'''

Can also compare wit a “''not''” operator, like this:

'''
----
if (!(f = fopen ("./file.dat", "r"))) {...}
----
'''

There are some things to be aware of regarding ''-std=c99'', ''getopt()'' and ''unistd.h''. See [[https://stackoverflow.com/questions/22575940/getopt-not-included-implicit-declaration-of-function-getopt|this]].

If a param for getopt needs a negative number, rember that “--” means “end of options for most shells (it is POSIX after all).

